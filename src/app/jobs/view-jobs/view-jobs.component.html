

<router-outlet></router-outlet>


<div class="search">
   Search: <input type="text" #search /> <button mat-button   (click) = "searchString(search)" type="button">Search</button> 
     ( long: {{longitude}} - lat : {{latitude}})   Maxi Dist: <input value= {{distone}} #dist type="number"> <button
     (click) = "searchDistance(dist.value)" mat-button type="button">Search</button>
   
</div>
<table  mat-table [dataSource]="dataSource" class="mat-elevation-z8">



  <ng-container matColumnDef="index">
    <th mat-header-cell *matHeaderCellDef> No. </th>
    <td mat-cell *matCellDef="let i = index "> {{i + 1}} </td>
  </ng-container>


  <ng-container matColumnDef="category">
    <th mat-header-cell *matHeaderCellDef> Job Name </th>
    <td mat-cell *matCellDef="let element"> {{ (element.category.length>36)? (element.category | slice:0:36)+'..':(str) }} </td>
  </ng-container>

  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>

    <td width = "35%" mat-cell *matCellDef="let element"> {{element.description}} </td>

    <td mat-cell *matCellDef="let element"> {{ (element.description.length>36)? (element.description | slice:0:36)+'..':(str) }}</td>

  </ng-container>

  <ng-container matColumnDef="start_date">
    <th mat-header-cell *matHeaderCellDef> Starts </th>
    <td mat-cell *matCellDef="let element"> {{element.period.start_date | date}} </td>
  </ng-container>

  <ng-container matColumnDef="end_date">
    <th mat-header-cell *matHeaderCellDef> Ends </th>
    <td mat-cell *matCellDef="let element"> {{element.period.end_date | date }} </td>
  </ng-container>
  <ng-container  matColumnDef="view">
    <th mat-header-cell *matHeaderCellDef> Applications </th>
    <td  mat-cell *matCellDef="let element">
      <!-- <button id="btn-manage" class="btn btn-sm" (click)="onManageJobClicked(element)">Manage</button>
      <button class="btn btn-sm badge" attr.data-badge="{{ element.applicants.length }}" [routerLink]="['/applications', element._id]">Applications</button>
      -->
      <button  class="btn btn-sm" [routerLink]="['/view-job', element._id]" >View</button>

    <td mat-cell *matCellDef="let element">
      <button *ngIf="showManagement" id="btn-manage" class="btn btn-sm" (click)="onManageJobClicked(element)">Manage</button>
      <button *ngIf="showManagement" class="btn btn-sm badge" attr.data-badge="{{ element.applicants.length }}" [routerLink]="['/applications', element._id]">Applications</button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index;"></tr>
</table>

<!-- <div class="modal-container"  role="document" >
    <div class="modal-header"><a class="btn btn-clear float-right" (click)="onManageJobClicked(element)" aria-label="Close"></a>
      <div class="modal-title h5">Modal title</div>
    </div>
    <div class="modal-body">
      <div class="content">
        <form>
          <div class="form-group">
            <label class="form-label" for="input-example-7">Name</label>
            <input class="form-input" id="input-example-7" type="text" placeholder="Name">
          </div>
          <div class="form-group">
            <label class="form-label">Gender</label>
            <label class="form-radio">
              <input type="radio" name="gender"><i class="form-icon"></i> Male
            </label>
            <label class="form-radio">
              <input type="radio" name="gender" checked=""><i class="form-icon"></i> Female
            </label>
          </div>
        </form>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-primary">Submit</button><a class="btn btn-link" href="#modals-sizes" aria-label="Close" (click)="onManageJobClicked(element)">Close</a>
    </div>
  </div> -->

<!-- 
  <div class="modal" id="modal-id" [ngClass]="{ 'active': showManagement }">
      <a (click)="onManageJobClicked(element)" class="modal-overlay" aria-label="Close"></a>
      <div class="modal-container">
        <div class="modal-header">
          <a (click)="onManageJobClicked(element)"  class="btn btn-clear float-right" aria-label="Close"></a>
          <div class="modal-title h5">Modal title</div>
        </div>
        <div class="modal-body">
          <div class="content">
          </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" (click)="onManageJobClicked(element)">Submit</button>
            <a class="btn btn-link" aria-label="Close" (click)="onManageJobClicked(element)">Close</a>

        </div>
      </div>
    </div> -->